<div class="d-flex justify-content-center align-items-start min-vh-100 p-4"
     data-controller="multi-step">

  <div class="w-100" style="max-width: 480px;">

    <%= link_to root_path, class: "text-decoration-none text-secondary link-dark" do %>
      <i class="fa-solid fa-arrow-left me-1"></i> Back
    <% end %>

    <!-- Progress bar -->
    <div class="progress mt-3 mb-5" style="height: 3px;">
      <div data-multi-step-target="progressBar"
          class="progress-bar bg-primary"
          role="progressbar"
          style="width: 0%;"
          aria-valuenow="0"
          aria-valuemin="0"
          aria-valuemax="100"></div>
    </div>

    <%= simple_form_for @profile do |f| %>

      <!-- Step 1 - Gender pick -->
      <div data-multi-step-target="genderStep" class="text-center">
        <h4 class="mt-4 mb-1">Choose your gender</h4>

        <div class="row g-3 justify-content-center">
          <% ["♂ Male", "♀ Female"].each_with_index do |gender, index| %>
            <div class="col-6">
              <%= f.radio_button :gender, gender, id: "gender_#{index}", class: "btn-check" %>
              <%= f.label :gender, gender, for: "gender_#{index}", class: "btn btn-outline-primary btn-lg w-100 py-3 rounded-5" %>
            </div>
          <% end %>
        </div>


        <button type="button"
                class="btn btn-outline-primary btn-lg mt-4 w-100 rounded-5"
                data-action="click->multi-step#nextStep">
          Next
        </button>
      </div>

      <!-- Step 2 - Birthdate pick -->
      <div data-multi-step-target="dateStep" class="d-none text-center">
        <h4 class="mt-4 mb-4">Enter your date of birth</h4>

        <div class="px-3">
          <%= f.input :birthday,
                      as: :date,
                      label: false,
                      start_year: Date.today.year,
                      end_year: Date.today.year - 100,
                      order: [:year, :month, :day],
                      prompt: { day: "Day", month: "Month", year: "Year" } %>
        </div>

        <button type="button"
                class="btn btn-outline-primary btn-lg mt-4 w-100 rounded-5"
                data-action="click->multi-step#nextStep2">
          Next
        </button>
      </div>

      <!-- Step 3 - Username & Icon -->
      <div data-multi-step-target="nameStep" class="d-none text-center">
        <h4 class="mt-4 mb-4">Please set a Username</h4>

        <div class="px-3 mb-5">
          <%= f.input :user_name,
                      label: false,
                      input_html: { class: "form-control form-control-lg", placeholder: "Username" } %>
        </div>

        <h4 class="mt-5 mb-4">And choose an Avatar</h4>

        <div class="row g-3 justify-content-center">
          <% @icons.keys.each do |icon_number| %>
            <div class="col-4 text-center">
              <%= f.radio_button :icon, icon_number, id: "icon_#{icon_number}", class: "btn-check" %>
              <%= f.label :icon, class: "btn btn-outline-secondary btn-lg w-100 py-3 rounded-5", for: "icon_#{icon_number}" do %>
                <i class="<%= @icons[icon_number] %>"></i>
              <% end %>
            </div>
          <% end %>
        </div>

        <%= f.submit "View your checkups",
                    class: "btn btn-primary btn-lg mt-4 w-100 rounded-5" %>
      </div>


    <% end %>

  </div>

</div>
